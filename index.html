<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8"/>
    <style type="text/css">
        *{margin:0; padding:0;}
        body{font:12px/1.5em arial \5b8b\4f53 sans-serif;padding:20px;}
        ul,li{ list-style:none;}
        .answer{width:400px; height:300px; padding:5px; border:1px solid #999;border-bottom:0 none;overflow-x: hidden;}
        .input-bar{width:410px; position:relative;}
        .keywords{padding:10px 0;}
        .question-input{height:18px; line-height:18px;padding:4px; width: 400px; }
        .answer-list{position:absolute;top:29px;border:1px solid #999;}
        .matches a{display:block; width:400px;height:18px; line-height:18px; padding:5px;border-bottom:1px solid #e7e7e7;color:#333; cursor:pointer;text-decoration:none;}
        .matches a:hover{background-color:#f5f5f5;}
        .matches b{ color:#c22;padding:0 2px;border:1px solid #c22;margin:0 1px;}
        .answer a, .answer a:hover{display: inline; border:0 none;background-color: #fff;width:auto;line-height: 1.5em;}
        .btn{padding:4px 6px; position: absolute;top:1px;right:-1px;cursor: pointer;}
        #relOutput .matches{padding: 5px 0; border-bottom: 1px solid #ddd; margin-bottom: 5px;}
    </style>
    <script type="text/javascript" src="jquery-1.8.2.min.js"></script>
    <script type="text/javascript" src="key-match.js"></script>
</head>
<body>

<h3>测试用关键字（请在Chrome中测试）:</h3>
<p id="keywords" class="keywords"></p>
<div class="answer"></div>
<div class="input-bar">
<input class="question-input" name="" id="qInput" cols="30" rows="10" autofocus >
<button type="button" class="btn" id="commit">提交</button>
<ul id="ansOutput" class="answer-list"></ul>
</div>


<script type="text/javascript">

    /**************** START 数据区域  **********************/

    // 定义关键字集合：关键字要简洁富有代表性
    var keywords = ["订单","取消","付款","发货","快递","物流","送达","签收","拒签","退款","退货","态度","状态","服务","待付款","待确认","打包","待发货","已发货","已送达","交易完成","待退款","取消","订单","订单","结束","取消","原因","状态","不符","不一致","修改","订单","信息","地址","电话","商品","取消","订单","付款","发货","多久","时间","付款","缺货","怎么办","未收到","收","成功","查询","快递","物流","时间","何时","到达","到货","收到","申请","退货","如何","换货","退款","查询","收到","到账","商品","不一致","不符","不一样","不同","退货","换货","退换货","确认","收货","邮费","承担","支付","谁","查看","物流","快递","发货","时间","城市","地点","查看","送达","时间","天","发货","没有","物流信息","查不到","看不到","无法","快递","单号","查不到","无法","物流","不一致","发货","收货","地址","不同","不一样","有误","超区","上门","怎么办","邮费","另付","怎么办","超时","未送到","未送达","收到货","快递","晚一送十","补偿","退款","拒收","退货","单号","有误","错误","不正确","有问题","没有送货","服务差","物流","快递","不及时","拒收","退货","何时","到账","邮费","退货","承担","支付","破损","损坏","包装","上门","开封","款项","发货","时间","时候","不想要了","不要了","没变","改变","姓名","送到","时候","送到","哪个","哪里"];

    // 项目编号作为查找详细答案的索引
    var question = [
        "[1.1.1.1]订单状态说明  待付款//订单/待付款待确认//订单/待确认/待确认//已支付/待确认/待发货//打包/待发货//已发货/交易完成//已送达/交易完成/待退款/取消/订单/订单/取消//订单//结束//订单/取消/原因/"
        ,"[1.1.2.1]订单已成功付款，但订单状态不符，显示待付款订单//状态//不符//不一致/待发货订单//状态//不符//不一致//没变//改变"
        
        ,"[1.2.1]修改商品信息/收货地址信息/联系电话信息修改/订单/信息/地址/电话/商品/姓名"
        ,"[1.3.1]未付款取消订单//取消//订单//已付款取消订单//取消//订单//已发货取消订单//取消//订单//不要了/不想要了/退货/退款"
        ,"[1.4.1]付款多少天后发货？//付款//发货//多久//时间//时候"
        ,"[1.4.2]付款后卖家缺货//付款//缺货//怎么办"
        ,"[1.4.3]订单显示成功，实际未收到商品//未收到//没收到//收到//成功"
        ,"[1.5.1]物流/快递公司送货//查询//快递//物流//时间//何时//到达//到货//收到"
        ,"[1.6.1]订单状态：已发货，如何退货//如何//退货//退款"
        ,"[1.7.1]订单状态：已发货，如何换货//如何//退货"
        ,"[1.8.5]退款后，在哪里查询收到的退款//退款//查询//收到//到账"
        ,"[1.9.1]收到的商品不是自己购买的商品//商品//不一致//不符//不一样//不同"
        ,"[1.10.1]确认收货后，如何退换货？//退货/换货//退换货//确认//收货"
        ,"[1.10.2]退换货，运费/邮费谁承担？//退货//换货//退换货//邮费//承担//谁"
        ,"[2.1.1.1]怎么查看物流/快递信息？ //查看/物流/快递/哪个/发货/"
        ,"[2.1.1.4]送达时间需多少天？//查看/查询/送达/到达/时间/天/送到/时候"
        ,"[2.1.2.1]已经发货，未有物流信息//"
        ,"[2.1.2.2]物流/快递单号无法查询//发货/没有/物流信息/查不到/看不到/无法"
        ,"[2.1.2.3]物流/快递发货地址与收货地址不一致//发货/收货/不一致/地址/不同/不一样/有误"
        ,"[2.1.3.1]收货地址超区，能否送货上门//超区/上门/怎么办"
        ,"[2.1.3.2]收货地址超区，是否需另付邮费/运费//超区/邮费/另付/怎么办"
        ,"[2.2.1.1]物流/快递超时未送达/未收到货//物流/超时/未送到/未送达/收到货/快递//物流/超时/送到/未送到/未送达/收到货/快递/晚一送十/补偿//物流/超时/未送到/未送达/收到货/快递/退货/退款/拒收"
        ,"[2.2.2.1]物流/快递单号不正确//快递/物流/单号/有误/错误/不正确/有问题/查询"
        ,"[2.2.3.1]物流/快递未按收货地址送货上门/未及时派件//物流/没有送货/派件"
        ,"[2.2.3.2]物流/快递人员服务差/不及时派件，要求拒签/退货//物流/快递/人员/工人/服务差/不及时/拒收/退货"
        ,"[2.2.3.3]物流/快递人员服务差/不及时派件，拒签后款项何时退回？//退款/收款/到账/何时/时间"
        ,"[2.2.4.1]未收到货，但物流/快递查询显示已签收//未收到/签收/物流/快递"
        ,"[2.2.4.2]物流送货上门，但物品包装已破损/已开封//商品破损/包装/损坏/送货上门/开封"
        ,"[2.2.4.3]退货谁承担运费/邮费//邮费/退货/承担/支付"
        ,"[2.2.5]物流/快递人员多收了款项//多收"
    
    ];

    // 根据问题搜索答案集合
    var answer = {
        "[1.1.1.1]": "//订单状态说明选择在线支付方式付款的订单需要您尽快支付，如果您在24小时内未支付（抢购商品30分钟），订单将自动取消。"
        ,"[1.1.2.1]": "//订单不同步，因系统未及时同步，请您耐心等待下，或致电400-700-0808，我们会在24小时之内处理。"
        ,"[1.2.1]": "已下单成功的订单，不支持修改商品信息/收货地址/联系电话，建议您“取消订单”后重新下单，给您带来不便，敬请谅解。"
        ,"[1.3.1]": "//取消订单相关内容：您只需要登录QQ网购，在页面最上方，选择“我的QQ网购”下“我的订单”，在相应订单后点击“取消订单”即可；若订单超过24小时未付款（抢购商品30分钟），订单将自动取消。"
        ,"[1.4.1]": "付款后我们将在1个小时内审核订单，订单审核通过后24小时之内安排发货，请您保持电话畅通，发货后我们会有短信通知到您的手机，请您留意查收。"
        ,"[1.4.2]": "若卖家缺货无法发货，我们会有专人与您联系告知（1号店商品除外），建议您重新选购商品，给您带来不便，敬请谅解。"
        ,"[1.4.3]": "建议您可咨询公司前台/门卫处/朋友/邮件点是否已代收，或致电400-700-0808咨询，给您带来不便，敬请谅解。"
        ,"[1.5.1]": "//如何查询物流何时到达，受天气、收货地址、物流公司等因素影响，具体以物流派送时间为准，或登录QQ网购，在页面最上方，选择“我的QQ网购”下“我的订单”查看订单预计到达时间或点击“物流详情”查看。"
        ,"[1.6.1]": "//如何退换货，未签收的订单，如需退货，请及时致电400-700-0808，谢谢。"
        ,"[1.7.1]": "已发货未送达订单，无法进行退货，给您带来不便，敬请谅解"
        ,"[1.8.5]": "如您已开通财付通，款项将优先退至财付通账户；否则原路返还支付银行卡，我们将在3-7个工作日完成退款，请您注意查收"
        ,"[1.9.1]": "请保持商品完整，致电400-700-0808反馈，我们会在24小时之内处理，感谢您的谅解。"
        ,"[1.10.1]": "请登录QQ网购，在页面最上方，选择“我的QQ网购”下“我的订单”，点击“申请退换货”或在“售后服务”下选择所需商品进行“申请”，我们会在1小时之内处理您的售后单，也请您保持电话畅通，留意售后处理结果"
        ,"[1.10.2]": "因质量问题需要退换货时，请您选择普通快递将您的商品寄回给我们，退换货中产生的运费（具体的退换货返还的运费金额请查看各类目退换货细则），QQ网购将会以优惠券的形式返回您的QQ网购的账户中。请您登陆“我的QQ网购账户“查看优惠券信息。 非质量问题退换货时产生的运费由买家自行承担。"
        ,"[2.1.1.1]": "您只需要登录QQ网购，在页面最上方，选择“我的QQ网购”下“我的订单”，通过“商品订单”页即可查询当前订单的“物流详情”了。 "
        ,"[2.1.1.4]": "您只需要登录QQ网购，在页面最上方，选择“我的QQ网购”下“我的订单”，通过“商品订单”页即可查询当前商品预计送达时间。"
        ,"[2.1.2.1]": "请致电400-700-0808反馈，我们会及时核实处理，感谢您的谅解与支持。"
        ,"[2.1.2.2]": "请致电400-700-0808反馈，我们会及时核实处理，感谢您的谅解与支持。"
        ,"[2.1.2.3]": "请致电400-700-0808反馈，我们会及时核实处理，感谢您的谅解与支持。"
        ,"[2.1.3.1]": "若地址超区，将无法送货上门，请及时致电400-700-0808反馈，给您带来不便，敬请谅解。"
        ,"[2.1.3.2]": "具体将根据您订购的商品，卖家使用物流进行判断，如有问题，请致电400-700-0808，给您带来不便，敬请谅解。"
        ,"[2.2.1.1]": "//物流超时问题：请致电400-700-0808反馈，我们会及时核实处理，感谢您的谅解与支持。"
        ,"[2.2.2.1]": "请登录QQ网购，在页面最上方，选择“我的QQ网购”下“我的订单”，可电界面中客服电话说明情况，以便客服及时为您登记反馈，并在24小时之内告知您正确单号，给您带来不便，敬请谅解。"
        ,"[2.2.3.1]": "请致电400-700-0808反馈，我们会及时核实处理，感谢您的谅解与支持。"
        ,"[2.2.3.2]": "若因物流人员问题，需要拒收，可直接拒收；若已签收，在不影响二次销售的情况下，可选择退货（数码家电类千元以上商品除外）。"
        ,"[2.2.3.3]": "在仓库收到商品后24小时之内为您办理退款，如您已开通财付通，款项将优先退至财付通账户；否则原路返还支付银行卡，我们将在3-7个工作日完成退款，请您注意查收。"
        ,"[2.2.4.1]": "建议您可咨询公司前台/门卫处/朋友/邮件点是否已代收，或致电400-700-0808咨询，给您带来不便，敬请谅解。"
        ,"[2.2.4.2]": "收到的商品出现已破损、已开封的问题，请您拒签，并请第一时间联系卖家反馈，给您带来不便，敬请谅解。"
        ,"[2.2.4.3]": "因质量问题需要退换货时，请您选择普通快递将您的商品寄回给我们，退换货中产生的运费（具体的退换货返还的运费金额请查看各类目退换货细则），QQ网购将会以优惠券的形式返回您的QQ网购的账户中。请您登陆“我的QQ网购账户“查看优惠券信息。 非质量问题退换货时产生的运费由买家自行承担。"
        ,"[2.2.5]": "请致电400-700-0808反馈，我们会及时核实处理，感谢您的谅解与支持。"
    };
    /**************** END 数据区域  **********************/




    /* 下面代码无需关注 **************************************/

    $(function(){
        var km = new KeyMatch({
           "sort": true
        });
        km.load(keywords, question);

        var ret;
        // bind
        $('#qInput').keyup(function(e){
            ret = km.match($(this).val());

            if(ret.status === 1){
                $('#ansOutput').html('');

                var title, content, index, output='';
                for(var i=0, j=ret.matched.length; i<j; i++){
                   title = ret.matched[i].replace(/^\[[0-9.]*\]/, function(match){
                       index = match;
                       return '';
                   });
                   content = title.replace(km.matchedKeywordsReg, function(match){
                        return '<b>'+match+'</b>';
                   });
                   output+='<li class="matches"><a href="" data-index="'+index+'" title="'+title+'">'+content+'</a></li>';
                }
                $('#ansOutput').html(output);

                if(e.keyCode == '13'){
                    var html = '<ul id="relOutput">'+output+'</ul>';
                    $('.answer').html(html);
                    var bestAnswerIndex = $('#relOutput li').eq(0).find('a').attr('data-index');
                    var bestAnswer = answer[bestAnswerIndex];
                    $('#relOutput').prepend('<h4>最佳答案</h4><p>'+bestAnswer+'</p><h4>相关答案</h4>');
                    $('#ansOutput').hide();
                }
            }
        });

        var currentIndex;
        $('#ansOutput').click(function(e){
            e.preventDefault();
            currentIndex = $(e.target).attr('data-index');
            $('#qInput').val($(e.target).attr('title'));
            $(this).hide();
            $('#commit').focus();
            $('.answer').html(answer[currentIndex]);
        });

        $('#commit').click(function(){
            $('.answer').html(answer[currentIndex]);
        });

        // show test keywords
        $('#keywords').html(keywords.join('|'));
    });
</script>
</body>
</html>